This is modifting core.java from dev2 branc
